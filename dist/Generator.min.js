/*
* Generatorjs version 1.0
* Author Oguz Yilmaz
* */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t(e):e.Generatorjs=t(e)}(this,function(e){"use strict";var t=Object.freeze({}),n=[],r=e.document,i=(Object.getPrototypeOf,n.push),o="undefined"!=typeof jQuery,l=Object.prototype.toString;!function(){var e=[];for(var t in r)"function"!=typeof r[t]&&null!==t&&"on"===t.substring(0,2)&&i.call(e,t)}();function s(e){return null!=e}var a=function(e){return"[object Object]"===l.call(e)},u=function(e){return"string"==typeof e||"[object String]"===l.call(e)},c=function(e,t,n){var r,i=e.indexOf(t),o=t.length,l=e.substr(0,i);return r=n?e.substr(i+o):e.substr(i),-1!==i?[l,r]:[e,""]},f=Array.isArray||function(e){return"[object Array]"===l.call(e)},d=function(e){return Object(e)===e};var h,p=function(e){return e!==[""]||e!==[]},y=function(e,t,n){for(var r=0;r<e.length;r++)t.call(n,r,e[r])},g=(h=Object.prototype.hasOwnProperty,function(e,t){return h.call(e,t)});var v=function(e,t){if(s(t)&&f(t))for(var n,r=0;r<t.length;r++)n=t[r],e.setAttribute(n[0],n[1]);return e},m=function(e){var t,n=-1!==e.indexOf("(")&&-1!==e.indexOf(")")?/\(([^)]+)\)/.exec(e):e,r=[];if(null!==n&&null!==(t=f(n)&&s(n[1])?n[1].split(","):n.split(","))&&p(t)&&(t!==[]||t!==[""]))for(var o,l=0;l<t.length;l++)o=t[l].split("="),p(o)&&i.call(r,[o[0],o[1]]);return r},b=function(e){for(var t=w(),n=e.split(" "),r=0;r<n.length;r++){for(var i=c(n[r],".."),o=null,l=null,s=0;""!==i[0];){if(null!==l&&1===s&&(o=l),""===i[0]||O(i[0],"[[")||-1!==i[0].indexOf("(")){if(-1!==i[0].indexOf("(")){var a=c(e,"(",!1);l=E(a[0]);var u=m(a[1]);l=v(l,u)}}else l=E(i[0]);null!==o&&x(o,l),i=-1!==i[1].indexOf("..")?c(i[1],".."):c(i[1],"..",!1),s++}null!==o?t.appendChild(o):null!==l&&t.appendChild(l)}return t},j=function(e){var n,r=w();if(a(e)&&e!==t&&(e=[e]),f(e))for(var i,l=0;l<e.length;l++){if(i=E(e[l].el),g(e[l],"attr")&&v(i,m(e[l].attr)),g(e[l],"inner")&&(o&&e[l].inner instanceof jQuery?T(i,e[l].inner.clone()):T(i,e[l].inner)),g(e[l],"child")){if(!f(e[l].child)||null!=(n=e[l].child)&&n.length<=0)throw new TypeError("Child elements must be an array.");try{i.append(j(e[l].child))}catch(t){i.appendChild(j(e[l].child))}}r.appendChild(i)}return r},C=function(e){if(e!==t){var n=w();n.appendChild(j(e)),this.$fragment=n}throw new TypeError("An empty object is passed to constructor.")},E=function(e){return r.createElement(e)},w=function(){return r.createDocumentFragment()},O=function(e,t){var n=t.length;return e.substring(0,n)===t},T=o?function(e,t){jQuery(e).html(t)}:function(e,t){try{e.innerHTML=t}catch(i){var n=r.createElement("div");for(n.innerHTML=t;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},x=function(e,t){var n=null;if(e.firstChild)for(;e.firstChild;)e=n=e.firstChild;else n=e;n.appendChild(t)},Q=function(e,t,n){if(s(e)&&s(e.querySelector)&&("id"===n||"class"===n))return"class"===n?e.querySelectorAll(t):e.querySelector(t);if(!o){var r=E("div");if(r.appendChild(e),(r=r.firstChild).querySelector||"query"===n)return r.querySelectorAll(t)}switch(n){case"id":return o?jQuery(t).get(0):r.getElementById(t.slice(1));case"class":return o?1===jQuery(t).get().length?jQuery(t).get(0):jQuery(t).get():r.getElementsByClassName(t.slice(1));case"tag":return o?1===jQuery(t).get().length?jQuery(t).get(0):jQuery(t).get():r.getElementsByTagName(t.toUpperCase());case"name":return o?1===jQuery("[name="+t).get().length?jQuery("[name="+t).get(0):jQuery("[name="+t).get():r.getElementsByName(t)}throw new Error("We could't get the element. Please check your selectors!")},S="a   address area article aside audio b bdi bdo big blockquote body br button canvas caption cite code col colgroup command datalist dd del details dfn div dl dt em embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 hr head header hgroup html i iframe img input ins kbd keygen label legend li link map mark meta meter nav noscript object ol optgroup option output p param pre progress q rp rt samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt ul var video wbr".split(" "),L=function(e,t){this.version="1.0";var n={},r={},i=null;if(this._options={type:"DOM",events:{},env:"prod"},null!==t&&a(t)&&function(e){for(var t,n=1,r=arguments.length;n<r;n++)if((t=arguments[n])&&d(t))for(var i in t)g(t,i)&&(e[i]=t[i])}(this._options,t),s(e)&&!a(e)&&!u(e))throw new TypeError("Element passed to constructor must be an object/string!\n"+typeof t+" is given! ");u(e)?i=b(e):(f(e)||a(e))&&(i=j(e)),null!==i&&d(i)&&(this.$fragment=i),s(this._options.env)&&"dev"===this._options.env&&(r._dom=i,n.objectOptSplitter=C,n.createElementsUntil=b,n.createElementsObjectUntil=j,this.__g={functions:n,properties:r}),this.render()};return L.prototype.prevState=function(){this.$prevEl&&(this.$el=this.$prevEl),this.$prevFragment&&(this.$fragment=this.$prevFragment)},L.prototype.render=function(){var e=E("div"),t=this.$fragment.cloneNode(!0);e.appendChild(t),e=e.firstChild,this.$el=e},L.prototype.addEvent=function(t,n){return function(t,n){var r=this.$selected?this.$selected:this.$el;r&&(O(t,"on")&&(t=t.substr(2)),u(n)&&"function"!=typeof n&&(n=e[n]),r.addEventListener?r.addEventListener(t,n,!1):r.attachEvent?r.attachEvent("on"+t,n):e["on"+t]=n)}.call(this,t,n),this},L.prototype.deleteEvent=function(t,n){return function(t,n){var r=this.$selected?this.$selected:this.$el;u(n)&&"function"!=typeof n&&(n=e[n]),r&&(O(t,"on")&&(t=t.substr(2)),r.removeEventListener?r.removeEventListener(t,n,!1):r.detachEvent?r.detachEvent("on"+t,n):r["on"+t]=null)}.call(this,t,n),this},L.prototype.get=function(){var e,t,n=arguments.length;if(n>3)throw new TypeError("Wrong number of argument supplied to Generatorjs.get function.Max 3 allowed based on usage. ");if(0==n)return this.$fragment;if(1===n){t=this.$fragment;var r=arguments[0];if(!u(r))throw new TypeError("Argument passed should be a string. "+typeof r+" is given!");if(O(r,"."))e=Q(t,r,"class");else if(O(r,"#"))e=Q(t,r,"id");else if(O(r,"name=")){var i=r.split("=")[1];e=Q(t,i,"name")}else if(O(r,"[")||-1!==r.indexOf("["))e=Q(t,r,"attr");else if("*"===r){var o=E("div");o.appendChild(t),e=o.firstChild}else(function(e,t,n){if(!Array.prototype.indexOf)return function(e,t,n){var r;if(null==e)throw new TypeError("array is null or not defined");var i=Object(e),o=i.length>>>0;if(0===o)return-1;var l=0|n;if(l>=o)return-1;for(r=Math.max(l>=0?l:o-Math.abs(l),0);r<o;){if(r in i&&i[r]===t)return r;r++}return-1}(e,t,n);return e.indexOf(t,n)>-1})(S,r.toLowerCase())&&(e=Q(this.$fragment,r,"tag"));this.$prevEl=this.$el?this.$el:null,this.$selected=this.$el=e}return this},L.prototype.setContent=function(e,t){return null!==t&&T(t,e),u(e)&&T(this.$selected,e),this},L.prototype.setText=function(e){if(!this.$selected)throw new Error("No element is selected.You should use .get() first!");var t;return this.$selected.appendChild((t=e,r.createTextNode(t))),this},L.prototype.attachTo=function(e){if(!this.$selected&&!this.$el)throw new Error("No elements Generatorjs object has to be attached!");var t=this.$selected?this.$selected:this.$el;if(o&&e instanceof jQuery)$(e).prepend(t);else{if(!(s(e.nodeType)&&e.nodeType>0))throw new Error("Elements to be attached must be of either type Element Object or JQuery Object");e.insertBefore(t,e.firstChild)}return this},L.prototype.append=function(e){var t,n,r,i=E("div");if(i.appendChild(this.$fragment.cloneNode(!0)),i=i.firstChild,o&&e instanceof jQuery){var l=e.get();y(l,function(e,t){i.appendChild(t)})}else t=e,r=Object.prototype.toString.call(t),!1===(n="object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(r)&&"number"==typeof t.length&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0))&&"number"==typeof t.length&&void 0!==t.item&&"function"==typeof t.nextNode&&"function"==typeof t.reset&&(n=!0),n?y(e,function(e,t){i.appendChild(t)}):s(e.nodeType)&&e.nodeType>0?i.appendChild(e):e instanceof L&&i.appendChild(e.$el);return this.$el=i,this},L.prototype.getString=function(){return e=this.$selected?this.$selected:this.$el,(t=r.createElement("div")).appendChild(e),t.innerHTML;var e,t},L});